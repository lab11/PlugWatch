{ "data_sources": [
    {
        "source": {
            "type" : "surveyCTO",
            "name" : "PW_Pilot2",
            "url" : "https://gridwatch.surveyCTO.com/api/v1/forms/wide/csv/PW_Pilot2/?r=approved|rejected|pending",
            "username": "username",
            "password": "password"
        },
        "cleaning":  [ {
                "type" : "git",
                "url" : "keybase://team/gridwatch/deployment_management",
                "name" : "deployment_management",
                "stepname" : "rscript",
                "subdirectory": "PW_pilot2/",
                "script": "PW_Pilot2.R"
            }
        ],
        "output": {
                "type": "device_deployment",
                "field_mapping" : {
                   "respondent_id": "a_respid",
                   "respondent_firstname": "e_firstname",
                   "respondent_surname": "e_surnames",
                   "respondent_popularname": "e_popularname",
                   "fo_name": "surveyor_name",
                   "site_id": "site_id",
                   "phone_number": "e_phonenumber",
                   "carrier": "carrier",
                   "second_phone_number": "e_otherphonenumber",
                   "alternate_contact_name": "e_othercontact_person_name",
                   "alternate_phone_number": "e_othercontact_person_number",
                   "location_latitude": "final_latitude",
                   "location_longitude": "final_longitude",
                   "survey_time": "endtime",
                   "survey_id": "instanceID",
                   "installed_outage" : "g_installoutage",
                   "device_installed" : "g_install",
                   "device_id" : ["g_deviceQRbar", "g_deviceID"],
                   "app_installed" : "g_download",
                   "app_id" : ["g_appQRbar", "g_appQR_nr1"],
                   "error" : "error",
                   "error_field" : "error_field",
                   "error_comment" : "error_comment"
                }
            }
    },{
        "source": {
            "type" : "surveyCTO",
            "url" : "https://gridwatch.surveyCTO.com/api/v1/forms/wide/csv/Pilot2_DeviceChange/?r=approved|rejected|pending",
            "username": "username",
            "password": "password"
        },
        "cleaning":  [ {
                "type" : "git",
                "url" : "keybase://team/gridwatch/deployment_management",
                "subdirectory": "Pilot2_DeviceChange/",
                "cleaning_script": "Pilot2_DeviceChange.R",
                "output" : "Pilot2_DeviceChange_cleaned.csv"
            }
        ],
        "output": [ {
                "type": "device_redeployment",
                "field_mapping" : {
                   "respondent_id": "a_respid",
                   "fo_name": "surveyor_name",
                   "survey_time": "endtime",
                   "survey_id": "instanceID",
                   "installed_outage" : "installed_outage",
                   "device_installed" : "a_give",
                   "device_id" : ["deviceGiveQR","g_deviceQRbar_give", "g_deviceID_give"],
                   "error" : "error",
                   "error_field" : "error_field",
                   "error_comment" : "error_comment"

                }
            }, {
                "type": "device_pickup",
                "field_mapping" : {
                   "respondent_id": "a_respid",
                   "fo_name": "surveyor_name",
                   "survey_time": "endtime",
                   "survey_id": "instanceID",
                   "device_retrieved" : "a_retrieve",
                   "device_id" : ["deviceRetrieveQR","g_deviceQRbar_retrieve", "g_deviceID_retrieve"],
                   "error" : "error",
                   "error_field" : "error_field",
                   "error_comment" : "error_comment"

                }
            }
        ]
    },{
        "source": {
            "type" : "git",
            "url" : "keybase://team/gridwatch/deployment_management",
            "subdirectory" : "achimota",
            "output" : "devices_deployed.csv"
        },
        "cleaning":  [ 
        ],
        "output": [
            {
                "type": "device_deployment",
                "field_mapping" : {
                }
            }
        ]
    }, {
        "source": {
            "type" : "git",
            "url" : "keybase://team/gridwatch/deployment_management",
            "subdirectory" : "achimota",
            "output" : "devices_picked_up.csv"
        },
        "cleaning":  [ 
        ],
        "output": [
            {
                "type": "device_deployment",
                "field_mapping" : {
                }
            }
        ]
    },{
        "source": {
            "type" : "surveyCTO",
            "url" : "https://gridwatch.surveyCTO.com/api/v1/forms/wide/csv/Pilot2_DevicePhone/?r=approved|rejected|pending",
            "username": "username",
            "password": "password"
        },
        "cleaning": [
        ],
        "output": [
            {
                "type": "auxillary",
                "field_mapping" : {
                    "respondent_id" : "a_respid",
                    "call_time" : "",
                    "call_success" : ""
                },
                "output_name" : "respondent_calls"
            }
        ]
    }
]
}
