// Generated by CoffeeScript 1.6.3
(function() {
  var __slice = [].slice;

  module.exports = function() {
    var fns, index;
    fns = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
    index = 0;
    return function() {
      var args, callNext, done, _i;
      args = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), done = arguments[_i++];
      callNext = function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (!(index < fns.length)) {
          return done.apply(null, [null].concat(__slice.call(args)));
        }
        return fns[index].apply(fns, __slice.call(args).concat([function() {
          var err, results;
          err = arguments[0], results = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
          if (err) {
            return done.apply(null, [err].concat(__slice.call(results)));
          }
          index++;
          return callNext.apply(null, results);
        }]));
      };
      return callNext.apply(null, args);
    };
  };

}).call(this);
