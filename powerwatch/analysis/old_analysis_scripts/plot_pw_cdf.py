#!/usr/bin/env python3

import seaborn as sns
import numpy
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap

cmap = ListedColormap(sns.color_palette('colorblind'))

y_vals = [x*0.01 for x in range(0,100)]
#x_vals = [0.0, 0.25200000405311584, 0.5109999775886536, 0.7760000228881836, 1.059000015258789, 1.3420000076293945, 1.6480000019073486, 1.9600000381469727, 2.2890000343322754, 2.638000011444092, 2.994999885559082, 3.3510000705718994, 3.7219998836517334, 4.117000102996826, 4.515999794006348, 4.928999900817871, 5.3379998207092285, 5.76200008392334, 6.210000038146973, 6.665999889373779, 7.122000217437744, 7.603000164031982, 8.093000411987305, 8.597999572753906, 9.107999801635742, 9.633000373840332, 10.159000396728516, 10.704000473022461, 11.274999618530273, 11.85099983215332, 12.454000473022461, 13.083999633789062, 13.701000213623047, 14.345000267028809, 15.008000373840332, 15.696000099182129, 16.38800048828125, 17.097999572753906, 17.799999237060547, 18.555999755859375, 19.31999969482422, 20.10099983215332, 20.92799949645996, 21.78700065612793, 22.650999069213867, 23.52899932861328, 24.434999465942383, 25.408000946044922, 26.408000946044922, 27.4689998626709, 28.54599952697754, 29.64699935913086, 30.760000228881836, 31.908000946044922, 33.12300109863281, 34.4109992980957, 35.70199966430664, 37.05699920654297, 38.39799880981445, 39.84299850463867, 41.297000885009766, 42.82899856567383, 44.415000915527344, 46.06700134277344, 47.87200164794922, 49.742000579833984, 51.6609992980957, 53.637001037597656, 55.70899963378906, 57.928001403808594, 60.22600173950195, 62.604000091552734, 65.11599731445312, 67.71299743652344, 70.447998046875, 73.38999938964844, 76.4739990234375, 79.79000091552734, 83.37999725341797, 87.23699951171875, 91.36299896240234, 95.65899658203125, 100.51499938964844, 105.75199890136719, 111.46700286865234, 117.63600158691406, 124.29299926757812, 131.47999572753906, 139.59300231933594, 148.73199462890625, 158.8249969482422, 171.03900146484375, 184.92300415039062, 201.81399536132812, 222.31500244140625, 248.20799255371094, 282.6300048828125, 331.8789978027344, 408.2019958496094, 577.7960205078125]

x_vals = [0.0010000000474974513, 0.004000000189989805, 0.00800000037997961, 0.013000000268220901, 0.017999999225139618, 0.023000000044703484, 0.027000000700354576, 0.03200000151991844, 0.03799999877810478, 0.04399999976158142, 0.05000000074505806, 0.05700000002980232, 0.06499999761581421, 0.0729999989271164, 0.0820000022649765, 0.09200000017881393, 0.10100000351667404, 0.1120000034570694, 0.12300000339746475, 0.13500000536441803, 0.1469999998807907, 0.16099999845027924, 0.17900000512599945, 0.1940000057220459, 0.21299999952316284, 0.23100000619888306, 0.25200000405311584, 0.2770000100135803, 0.3059999942779541, 0.33899998664855957, 0.375, 0.41499999165534973, 0.4779999852180481, 0.5490000247955322, 0.6299999952316284, 0.7310000061988831, 0.8799999952316284, 1.031999945640564, 1.2669999599456787, 1.6490000486373901, 2.316999912261963, 3.9730000495910645, 10.350000381469727, 20.70599937438965, 34.61399841308594, 56.45399856567383, 79.43199920654297, 107.38600158691406, 140.5399932861328, 172.16000366210938, 208.32000732421875, 245.53599548339844, 280.2409973144531, 317.99798583984375, 354.1520080566406, 399.2300109863281, 445.614013671875, 487.8970031738281, 531.322021484375, 581.6909790039062, 624.2880249023438, 676.0549926757812, 727.8259887695312, 795.6950073242188, 853.093994140625, 904.802001953125, 974.1740112304688, 1049.344970703125, 1126.0, 1201.64697265625, 1292.8499755859375, 1376.8570556640625, 1466.073974609375, 1546.9610595703125, 1638.2239990234375, 1732.7869873046875, 1813.4129638671875, 1915.2490234375, 2036.675048828125, 2153.18310546875, 2282.597900390625, 2410.343017578125, 2528.64990234375, 2686.465087890625, 2844.0458984375, 3026.93701171875, 3239.2939453125, 3466.297119140625, 3708.133056640625, 3988.73291015625, 4296.40283203125, 4683.7431640625, 5109.77001953125, 5582.580078125, 6210.73193359375, 6945.7099609375, 7760.123046875, 9207.630859375, 11329.3896484375, 14481.95703125]

#now calculate the pdf from the cdf
pdf_y_vals = []
for i in range(0,99):
    pdf_y_vals.append(0.01/(x_vals[i+1] - x_vals[i]))

pdf_y_vals.append(0)

plt.figure(figsize=(8,4))
plt.plot(x_vals, y_vals)
plt.plot([0,6800],[0.5,0.6],color='black',linestyle='--',linewidth=1)
plt.plot([0,6800],[0,0.14],color='black',linestyle='--',linewidth=1)
plt.xlim(0,15000)
plt.ylabel("Ratio of Outage Events",fontsize=16,labelpad=10)
plt.xlabel("Time to Nearest Outage Event (s)",fontsize=16,labelpad=10)

a = plt.axes([0.55, 0.3, .35, .35])
plt.xlim(0,10)
plt.ylim(0,0.5)
plt.plot(x_vals, y_vals)
plt.tight_layout()
plt.savefig('pw_outage_cdf.png')
#plt.show()
